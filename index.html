<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>VRealms</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/style.css" />

  <style>
    :root{
      --vr-bg: radial-gradient(circle at top, #f6e7cf 0, #23355a 62%, #0b1020 100%);
      --vr-overlay: linear-gradient(to bottom right, rgba(255,255,255,0.14), rgba(15,23,42,0.70));
    }

    .vr-header{
      position: fixed !important;
      top: 0 !important; left: 0 !important; right: 0 !important;
      z-index: 9999 !important;
      background: linear-gradient(
        180deg,
        rgba(10,15,28,0.78) 0%,
        rgba(10,15,28,0.28) 65%,
        rgba(10,15,28,0.00) 100%
      ) !important;

      backdrop-filter: blur(10px) !important;
      -webkit-backdrop-filter: blur(10px) !important;
      padding: 10px 12px 14px !important;
    }

    .vr-top-actions{
      display: flex !important;
      justify-content: center !important;
      gap: 16px !important;
    }

    .vr-main{ padding-top: 72px !important; }

    .vr-intro{
      margin-top: 14px !important;
      margin-bottom: 12px !important;
      display: flex !important;
      justify-content: center !important;
    }
    .vr-main-logo{ margin-top: 6px !important; }

    .vr-universe-grid{
      display: grid !important;
      gap: 12px !important;
    }
  </style>
</head>

<body>

  <header class="vr-header">
    <div class="vr-top-actions">
      <a class="vr-icon-button" href="profile.html" aria-label="Profil">
        <img src="assets/img/ui/btn_profile.webp" alt="" draggable="false" />
      </a>
      <a class="vr-icon-button" href="settings.html" aria-label="Paramètres">
        <img src="assets/img/ui/btn_settings.webp" alt="" draggable="false" />
      </a>
      <a class="vr-icon-button" href="shop.html" aria-label="Boutique">
        <img src="assets/img/ui/btn_shop.webp" alt="" draggable="false" />
      </a>
    </div>
  </header>

  <main class="vr-main">
    <section class="vr-intro">
      <img
        src="assets/img/ui/logo_vrealms.webp"
        alt="VRealms"
        class="vr-main-logo"
        draggable="false"
      />
    </section>

    <section class="vr-universes">
      <h2 class="vr-section-title" data-i18n="ui.choose_universe"></h2>

      <div class="vr-universe-grid">
        <button class="vr-card" data-universe="hell_king" type="button">
          <div class="vr-card-bg" style="background-image:url('assets/img/ui/universes/hell_king.webp');"></div>
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="universe.hell_king.title"></h3>
              <span class="vr-info-btn" role="button" tabindex="0" data-i18n-tip="universe.hell_king.desc">?</span>
            </div>
          </div>
        </button>

        <button class="vr-card" data-universe="paradise_sovereign" type="button">
          <div class="vr-card-bg" style="background-image:url('assets/img/ui/universes/paradise_sovereign.webp');"></div>
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="universe.paradise_sovereign.title"></h3>
              <span class="vr-info-btn" role="button" tabindex="0" data-i18n-tip="universe.paradise_sovereign.desc">?</span>
            </div>
          </div>
        </button>

        <button class="vr-card" data-universe="medieval_king" type="button">
          <div class="vr-card-bg" style="background-image:url('assets/img/ui/universes/medieval_king.webp');"></div>
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="universe.medieval_king.title"></h3>
              <span class="vr-info-btn" role="button" tabindex="0" data-i18n-tip="universe.medieval_king.desc">?</span>
            </div>
          </div>
        </button>

        <button class="vr-card" data-universe="western_president" type="button">
          <div class="vr-card-bg" style="background-image:url('assets/img/ui/universes/western_president.webp');"></div>
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="universe.western_president.title"></h3>
              <span class="vr-info-btn" role="button" tabindex="0" data-i18n-tip="universe.western_president.desc">?</span>
            </div>
          </div>
        </button>

        <button class="vr-card" data-universe="ceo_empire" type="button">
          <div class="vr-card-bg" style="background-image:url('assets/img/ui/universes/ceo_empire.webp');"></div>
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="universe.ceo_empire.title"></h3>
              <span class="vr-info-btn" role="button" tabindex="0" data-i18n-tip="universe.ceo_empire.desc">?</span>
            </div>
          </div>
        </button>

        <button class="vr-card" data-universe="new_world_explorer" type="button">
          <div class="vr-card-bg" style="background-image:url('assets/img/ui/universes/new_world_explorer.webp');"></div>
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="universe.new_world_explorer.title"></h3>
              <span class="vr-info-btn" role="button" tabindex="0" data-i18n-tip="universe.new_world_explorer.desc">?</span>
            </div>
          </div>
        </button>

        <button class="vr-card" data-universe="vampire_lord" type="button">
          <div class="vr-card-bg" style="background-image:url('assets/img/ui/universes/vampire_lord.webp');"></div>
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="universe.vampire_lord.title"></h3>
              <span class="vr-info-btn" role="button" tabindex="0" data-i18n-tip="universe.vampire_lord.desc">?</span>
            </div>
          </div>
        </button>

        <button class="vr-card" type="button" disabled aria-disabled="true">
          <div class="vr-card-content">
            <div class="vr-card-header-line">
              <h3 class="vr-card-title" data-i18n="ui.coming_soon"></h3>
              <span class="vr-info-btn" aria-hidden="true">?</span>
            </div>
          </div>
        </button>
      </div>
    </section>
  </main>

  <footer class="vr-footer">
    <span class="vr-footer-text" data-i18n="ui.footer"></span>
  </footer>

  <div id="vr-tooltip" class="vr-tooltip" style="display:none;"></div>

  <script src="js/userData.js"></script>
  <script src="js/i18n.js"></script>

  <script>
    // Sélection univers -> game.html (robuste: query + localStorage)
    document.querySelectorAll(".vr-card[data-universe]").forEach((btn) => {
      if (btn.disabled) return;
      btn.addEventListener("click", () => {
        const id = btn.dataset.universe;
        try {
          localStorage.setItem("vr_universe", id);
          localStorage.setItem("vr_selected_universe", id);
          sessionStorage.setItem("vr_universe", id);
        } catch(e) {}
        location.href = "game.html?u=" + encodeURIComponent(id);
      });
    });
  </script>

</body>
</html>
